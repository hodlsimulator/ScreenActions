/* popup.css — iOS-like styling for the web extension sheet */

:root{
  --radius-card: 20px;
  --radius-field: 12px;
  --pad: 16px;
  --pill-h: 56px;
  --title-lg: 34px;

  --text: #111111;
  --sub: #6e6e73;

  /* Light */
  --bg:   #ffffff;
  --card: #f2f2f7;
  --hair: #d2d2d7;
  --accent: #0a84ff;
  --ok:    #34c759;
  --err:   #ff3b30;

  font: -apple-system-body;
}

@media (prefers-color-scheme: dark){
  :root{
    --text: #e9eaed;
    --sub:  #a2a6ad;
    --bg:   #1c1c1e;
    --card: #2c2c2e;
    --hair: #3a3a3c;
  }
}

*{ box-sizing: border-box; }
.hidden{ display:none !important; }

html, body{
  margin: 0;
  padding: 0;
  background: var(--bg);
  color: var(--text);
}

#app{
  width: min(440px, 100vw);
  min-height: 92dvh;
  padding-top: calc(env(safe-area-inset-top) + 6px);
  padding-bottom: env(safe-area-inset-bottom);
}

.mono{ font-family: ui-monospace,Menlo,Consolas,monospace; white-space: pre-wrap; }
pre{ white-space: pre-wrap; word-break: break-word; }

.view{ display:none; padding:0 var(--pad) var(--pad) var(--pad); }
.view.active{ display:block; }

.sheet-title{
  margin: 4px 0 12px 0;
  font-weight: 800;
  font-size: var(--title-lg);
  letter-spacing: -.2px;
}

.group-label{
  color: var(--sub);
  margin: 16px 0 8px 0;
  font-weight: 600;
  font-size: 12px;
  letter-spacing: .2px;
}

.selection{
  background: var(--card);
  border: 1px solid var(--hair);
  border-radius: var(--radius-card);
  padding: 12px;
  max-height: 160px;
  overflow: auto;
  white-space: pre-wrap;
}

/* Home buttons */
.home-actions{
  display: grid;
  grid-auto-rows: var(--pill-h);
  row-gap: 12px;
  margin-top: 10px;
}
.home-actions .btn{
  display: flex; align-items: center; gap: 10px;
  width: 100%; height: var(--pill-h); padding: 0 16px;
  border-radius: 9999px;
  border: .5px solid color-mix(in oklab, var(--hair) 18%, transparent);
  background: color-mix(in oklab, var(--card) 98%, transparent);
  color: var(--accent);
  font: -apple-system-body; font-weight: 600;
  cursor: pointer;
}
.home-actions .btn.primary{
  background: linear-gradient(135deg, var(--accent), rgba(10,132,255,0.9));
  color: #fff;
  border: none;
}
.home-actions .btn .icon{ width:22px; display:inline-flex; justify-content:center; font-size:18px; line-height:1; }

/* Cards (share-sheet look) */
.card{
  background: var(--card);
  border: 1px solid var(--hair);
  border-radius: 20px;
  overflow: hidden;
}
.card .row{
  display:flex; align-items:center; gap:12px;
  padding:14px 14px; min-height:52px;
  border-top:1px solid var(--hair);
  justify-content:space-between;
}
.card .row:first-child{ border-top:none; }

/* Column row (for radius slider) */
.card .row.column{
  flex-direction: column;
  align-items: stretch;
  gap: 10px;
}
.row-line{
  display:flex; align-items:center; justify-content:space-between;
}

/* Plain field + labels */
.field-plain{
  -webkit-appearance:none !important; appearance:none !important;
  background:transparent !important; border:none !important; border-radius:0 !important;
  box-shadow:none !important; outline:none !important;
  margin:0 !important; padding:0 2px !important;
  height:24px; line-height:24px; font-size:17px; color:var(--text);
}
.field-plain::placeholder{ color:var(--sub); }
.label-plain{ font-size:17px; line-height:24px; padding-left:2px; color:var(--text); }

.value-mono{ font-variant-numeric: tabular-nums; color: var(--sub); }
.footnote{ font-size:12px; color: var(--sub); }

/* Right-aligned date/time chips */
.chip-row{ display:flex; gap:10px; margin-left:auto; }
.chip-input{
  -webkit-appearance:none; appearance:none;
  background: color-mix(in oklab, var(--bg) 50%, var(--card) 50%);
  border:1px solid var(--hair);
  border-radius:18px;
  padding:8px 12px;
  height:36px; line-height:20px; font-size:16px; color:var(--text);
}
.chip-input::-webkit-calendar-picker-indicator{ filter:opacity(.7); }

/* Notes — plain, borderless blocks (no card) */
.notes-block,
#remNotes, #evtNotes{
  display:block; width:100%;
  min-height:140px; line-height:1.35; font-size:16px;
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui, "Segoe UI", Roboto, Arial, Helvetica, sans-serif;
  resize: vertical;
  background: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  padding: 0;
  margin: 6px 2px 0 2px;
  color: var(--text) !important;     /* ← ensure readable in dark mode */
  caret-color: var(--text);          /* matching caret */
}
#remNotes::placeholder, #evtNotes::placeholder{
  color: var(--sub) !important;      /* placeholder readable in dark mode */
}

/* Status */
.status{ min-height:20px; margin:10px 0 2px 0; font-weight:600; }
.status.ok{ color: var(--ok); }
.status.err{ color: var(--err); }

/* Footer buttons */
.button-row{ display:flex; gap:12px; margin-top:14px; }
.button-row.dual{ justify-content:center; }

.btn-capsule{
  height:44px; min-width:140px; padding:0 18px; border-radius:9999px; font-weight:700;
}
.btn-capsule.secondary{
  border:1px solid var(--hair);
  background: color-mix(in oklab, var(--card) 98%, transparent);
  color:var(--text);
}
.btn-capsule.primary{
  border:none; background:var(--accent); color:#fff;
}

/* iOS-like switch */
.switch{ position:relative; width:48px; height:28px; display:inline-block; }
.switch input{ opacity:0; width:0; height:0; }
.slider{
  position:absolute; inset:0; border-radius:999px;
  background: color-mix(in oklab, var(--hair) 60%, transparent);
  transition: all .2s;
}
.slider:before{
  content:""; position:absolute; height:22px; width:22px; left:3px; top:3px;
  background:#fff; border-radius:50%; transition: all .2s;
}
.switch input:checked + .slider{ background: var(--ok); }
.switch input:checked + .slider:before{ transform: translateX(20px); }

/* Range */
.range{ width:100%; }
