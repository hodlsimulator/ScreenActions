<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Screen Actions</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div id="app">

    <!-- Top toolbar (share-sheet style) -->
    <header class="toolbar">
      <button id="navCancel" class="pill" aria-label="Cancel" hidden>Cancel</button>
      <div id="navTitle" class="toolbar-title">Screen Actions</div>
      <button id="navSave" class="pill primary" aria-label="Save" hidden>Save</button>
    </header>

    <!-- HOME -->
    <section id="home" class="view active" aria-labelledby="navTitle">
      <div id="statusHome" class="status"></div>

      <div class="home-block">
        <div class="label">Selected text / page</div>
        <pre id="selText" class="selection"></pre>
      </div>

      <div class="grid">
        <button id="btnAuto" class="tile">Auto</button>
        <button id="btnReminder" class="tile">Create Reminder</button>
        <button id="btnEvent" class="tile">Create Event</button>
        <button id="btnContact" class="tile">Extract Contact</button>
        <button id="btnCSV" class="tile">Receipt → CSV</button>
      </div>
    </section>

    <!-- REMINDER (share-sheet style header: Cancel / Save) -->
    <section id="reminder" class="view" aria-label="New Reminder">
      <h1 class="sheet-title">New Reminder</h1>

      <div class="group-label">Details</div>
      <div class="form-row">
        <input id="remTitle" type="text" inputmode="text" autocomplete="off" placeholder="Title">
      </div>

      <div class="form-row split">
        <label for="remHasDue" class="inline">Due date</label>
        <label class="switch">
          <input id="remHasDue" type="checkbox" aria-label="Has due date">
          <span class="slider"></span>
        </label>
      </div>

      <div class="form-row">
        <input id="remDue" type="datetime-local" disabled>
      </div>

      <div class="group-label">Notes</div>
      <div class="form-row">
        <textarea id="remNotes" rows="6" spellcheck="false"></textarea>
      </div>

      <div id="statusReminder" class="status"></div>
    </section>

    <!-- EVENT (unchanged layout for now) -->
    <section id="event" class="view" aria-label="New Event">
      <div class="bar">
        <button id="backEvent" class="soft">Back</button>
      </div>

      <h1 class="sheet-title">New Event</h1>
      <div id="statusEvent" class="status"></div>

      <div class="form-row"><input id="evTitle" type="text" placeholder="Title"></div>

      <div class="form-row"><label class="inline">Start</label><input id="evStart" type="datetime-local"></div>
      <div class="form-row"><label class="inline">End</label><input id="evEnd" type="datetime-local"></div>

      <div class="form-row"><input id="evLocation" type="text" placeholder="Location"></div>

      <div class="form-row split">
        <label for="evInferTZ" class="inline">Infer time zone</label>
        <input id="evInferTZ" type="checkbox">
      </div>

      <div class="form-row"><input id="evAlert" type="number" min="0" step="1" placeholder="Alert minutes (optional)"></div>

      <div class="form-row"><textarea id="evNotes" rows="6" placeholder="Notes"></textarea></div>

      <div class="button-row">
        <button id="saveEvent" class="pill primary">Done</button>
      </div>
    </section>

    <!-- CONTACT (unchanged layout for now) -->
    <section id="contact" class="view" aria-label="New Contact">
      <div class="bar">
        <button id="backContact" class="soft">Back</button>
      </div>

      <h1 class="sheet-title">New Contact</h1>
      <div id="statusContact" class="status"></div>

      <div class="form-row split">
        <input id="ctGiven" type="text" placeholder="First name">
        <input id="ctFamily" type="text" placeholder="Last name">
      </div>

      <div class="group-label">Emails</div>
      <div id="emails" class="list"></div>
      <div class="button-row left">
        <button id="addEmail" class="soft">Add email</button>
      </div>

      <div class="group-label">Phones</div>
      <div id="phones" class="list"></div>
      <div class="button-row left">
        <button id="addPhone" class="soft">Add phone</button>
      </div>

      <div class="group-label">Address</div>
      <div class="form-row"><input id="ctStreet" type="text" placeholder="Street"></div>
      <div class="form-row split">
        <input id="ctCity" type="text" placeholder="City">
        <input id="ctState" type="text" placeholder="State">
      </div>
      <div class="form-row split">
        <input id="ctPostal" type="text" placeholder="Post code">
        <input id="ctCountry" type="text" placeholder="Country">
      </div>

      <div class="button-row">
        <button id="saveContact" class="pill primary">Done</button>
      </div>
    </section>

    <!-- CSV -->
    <section id="csv" class="view" aria-label="Receipt to CSV">
      <div class="bar">
        <button id="backCSV" class="soft">Back</button>
      </div>

      <h1 class="sheet-title">Receipt → CSV</h1>
      <div id="statusCSV" class="status"></div>

      <div class="form-row">
        <textarea id="csvInput" rows="6" placeholder="Paste receipt text…"></textarea>
      </div>

      <div class="button-row left">
        <button id="reparseCSV" class="pill">Parse</button>
      </div>

      <div class="form-row">
        <pre id="csvOut" class="mono"></pre>
      </div>

      <div class="button-row">
        <button id="exportCSV" class="pill primary">Export CSV</button>
      </div>
    </section>

  </div>
  <script src="popup.js" defer></script>
</body>
</html>
